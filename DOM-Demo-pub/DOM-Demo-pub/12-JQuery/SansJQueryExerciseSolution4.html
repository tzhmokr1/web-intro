<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SansJQuery (using ES6 Class Syntax)</title>
  <style>
    .dangerous {
      background-color: orange;
    }
  </style>
</head>
<body>
<h1>Sans JQuery (using ES6 Class Syntax)</h1>
<div>
  <button>b1</button>
  <button>b2</button>
  <button>b3</button>
  <button>b4</button>
</div>
</body>
<script>
  // Optional exercise: recreate JQuery API including chaining
  // for addClass(), removeClass(), data(), 

  // solution:
  // there is no $$ only $

  class JQuery {
    constructor(elements) {
      this.elements = elements;
    }

    addClass(className) {
      this.elements.forEach((elm) => elm.classList.add(className));
      return this;
    }

    removeClass(className) {
      this.elements.forEach((elm) => elm.classList.remove(className));
      return this;
    }

    data(key, value) {
      if (value === undefined) { // store data
        this.elements.forEach((elm) => elm.dataset[key] = value);
      } else {
        // not supported Obj argument
        //returns non-chainable array
        return this.elements.map((elm) => elm.dataset[key]);
      }
    }
  }

  function $(queryString) {
    const elements = document.querySelectorAll(queryString);
    return new JQuery(elements);
  }

  console.log($('button')); //-> <button>b1</button>
  $('button').addClass('dangerous'); // works

</script>
</html>