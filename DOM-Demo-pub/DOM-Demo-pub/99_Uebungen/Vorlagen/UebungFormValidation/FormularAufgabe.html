<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Form Validation Aufgabe</title>
  <style>
    label {
      display: @@__________________@@;
    }

    label > span {
      display: @@______________________@@;
      width: 150px;

      @@_______________________________@@: right;
    }

    input.dirty:not(:focus):invalid {
      background-color: #FFD9D9;
    }

    input.dirty:not(:focus):valid {
      background-color: #D9FFD9;
    }

    button {
      margin-left: 154px;
    }

    form:invalid button {
      background-color: lightgray;
      color: gray;
    }

    form:invalid button::before {
      content: "Check";
    }

    form:valid button::before {
      content: "Send";
    }
  </style>
  <script src="checkLuhn.js"></script>
  <script src="checkMMYYValid.js"></script>
</head>
<body>
<h1>Form Validation Aufgabe</h1>

<h2>Enter your Credit Card Information</h2>

<form action="payInfo">
  <label>
    <span>Name on Card</span>
    <input id="name" name="name" @@________________@@>
  </label>
  <label>
    <span>Number</span>
    <input id="cardNumber" name="number" type="number" @@________________@@>
  </label>
  <label>
    <span>Expiration MM-YY</span>
    <input id="expiration" name="expiration" @@________________@@>
  </label>
  <button></button>
</form>
<script>
  function initApp() {
    function $ (s) {
      return @@________________@@(s)
    }
    var nameInput = $("#name");
    var numberInput = $("#number");
    var expirationInput = $("#expiration");

    numberInput.addEventListener('input', function () {
      if (checkLuhn(numberInput.value)) {

        @@________________________________________________@@;
      } else {

        @@________________________________________________@@;
      }
    });
    expirationInput.addEventListener('input', function() {
      if (checkMMYYValid(expirationInput.value)) {
        @@________________________________________________@@;
      } else {
        @@________________________________________________@@;
      }
    });

    //expirationInput.addEventListener('input', function () { ...});

    function setDirty(event) {
      event.target.classList.add("dirty");
    }
    nameInput.addEventListener('blur', setDirty);
    numberInput.addEventListener('blur', setDirty);
    expirationInput.addEventListener('blur', setDirty);
  }
  @@_______________________________________________________@@;
</script>
</body>
</html>